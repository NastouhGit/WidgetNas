@page
@model WidgetNas.Pages.Components.SearchListModel
@{
    ViewData["Title"] = "لیست قابل جستجو";
    ViewData["Description"] = "ویجت نس یک فریم ورک فارسی با پشتیبانی کامل از راست به چپ و همچنین چپ به راست است.";
}
<h1>@ViewData["Title"]</h1>
<p>
    در بسیاری از مواقع، ما لیست یا درختواره ای داریم و نیاز به فیلتر کردن بر اساس یک کلمه خاص داریم، با استفاده از این موضوع
    میتوانیم، بر روی لیست یا درختواره مد نظر، اعمال فیلتر کنیم.
</p>
<p>قبلا در قسمت <a href="/Components/Filter" alt="فیلتر">فیلتر</a> مشابه این موضوع را پیاده سازی کرده ایم. حال میخواهیم موضوعی پیش رفته تر را با استفاده از آن خاصیت نمایش دهیم.</p>
<h4>نمایش لیست</h4>
<div class="example-div">
    <div class="ltr" id="form1">
        <h3>LTR</h3>
        <div class="SearchList" wn-type="searchlist">
            <input type="search" placeholder="Type for search" />
            <ul wn-type="list">
                <li>First Name</li>
                <li>Last Name</li>
                <li>Company</li>
                <li>Address</li>
                <li>City</li>
                <li>Country</li>
                <li>State/Province</li>
                <li>ZIP/Postal Code</li>
                <li>Phone 1</li>
                <li>Phone 2</li>
                <li>Email</li>
                <li>Web</li>
            </ul>
        </div>
        <hr class="m-b-100r" />
        <div class="SearchList" wn-type="searchlist">
            <ul wn-type="list">
                <li>First Name</li>
                <li>Last Name</li>
                <li>Company</li>
                <li>Address</li>
                <li>City</li>
                <li>Country</li>
                <li>State/Province</li>
                <li>ZIP/Postal Code</li>
                <li>Phone 1</li>
                <li>Phone 2</li>
                <li>Email</li>
                <li>Web</li>
            </ul>
            <input type="search" placeholder="Type for search" />
        </div>
    </div>
    <div class="rtl">
        <h3>RTL</h3>
        <div class="SearchList" wn-type="searchlist">
            <input type="search" placeholder="برای جستجو بنویسید" />
            <ul wn-type="list">
                <li>نام</li>
                <li>نام خانوادگی</li>
                <li>شرکت</li>
                <li>آدرس</li>
                <li>شهر</li>
                <li>کشور</li>
                <li>استان</li>
                <li>کد پستی</li>
                <li>تلفن 1</li>
                <li>تلفن 2</li>
                <li>پست الکترونیک</li>
                <li>آدرس وب</li>
            </ul>
        </div>
        <hr class="m-b-100r" />
        <div class="SearchList" wn-type="searchlist">
            <ul wn-type="list">
                <li>نام</li>
                <li>نام خانوادگی</li>
                <li>شرکت</li>
                <li>آدرس</li>
                <li>شهر</li>
                <li>کشور</li>
                <li>استان</li>
                <li>کد پستی</li>
                <li>تلفن 1</li>
                <li>تلفن 2</li>
                <li>پست الکترونیک</li>
                <li>آدرس وب</li>
            </ul>
            <input type="search" placeholder="برای جستجو بنویسید" />
        </div>
    </div>
</div>
<figure><code data-on="form1"></code></figure>
<h4>نمایش درختواره</h4>
<div class="example-div">
    <div class="ltr" id="form1">
        <h3>LTR</h3>
        <div class="SearchList" wn-type="searchlist">
            <input type="search" placeholder="Type for search" />
            <ul class="tree" wn-type="tree">
                <li>
                    <div class="tree-item">Personal Info</div>
                    <ul>
                        <li>
                            <div class="tree-item">Name</div>
                            <ul>
                                <li><div class="tree-item">First Name</div></li>
                                <li><div class="tree-item">Last Name</div></li>
                            </ul>
                        </li>
                        <li>
                            <div class="tree-item">Address</div>
                            <ul>
                                <li><div class="tree-item">Address</div></li>
                                <li><div class="tree-item">City</div></li>
                                <li><div class="tree-item">Country</div></li>
                                <li><div class="tree-item">State/Province</div></li>
                                <li><div class="tree-item">ZIP/Postal Code</div></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="tree-item">Job Info</div>
                    <ul>
                        <li><div class="tree-item">Company</div></li>
                        <li><div class="tree-item">Phone 1</div></li>
                        <li><div class="tree-item">Phone 2</div></li>
                        <li><div class="tree-item">Email</div></li>
                        <li><div class="tree-item">Web</div></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div class="rtl">
        <h3>RTL</h3>
        <div class="SearchList" wn-type="searchlist">
            <input type="search" placeholder="Type for search" />
            <ul class="tree" wn-type="tree">
                <li>
                    <div class="tree-item">اطلاعات شخصی</div>
                    <ul>
                        <li>
                            <div class="tree-item">نام</div>
                            <ul>
                                <li><div class="tree-item">نام</div></li>
                                <li><div class="tree-item">نام خانوادگی</div></li>
                            </ul>
                        </li>
                        <li>
                            <div class="tree-item">آدرس</div>
                            <ul>
                                <li><div class="tree-item">آدرس</div></li>
                                <li><div class="tree-item">شهر</div></li>
                                <li><div class="tree-item">کشور</div></li>
                                <li><div class="tree-item">استان</div></li>
                                <li><div class="tree-item">کدپستی</div></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="tree-item">اطلاعات شغلی</div>
                    <ul>
                        <li><div class="tree-item">شرکت</div></li>
                        <li><div class="tree-item">تلفن 1</div></li>
                        <li><div class="tree-item">تلفن 2</div></li>
                        <li><div class="tree-item">پست الکترونیک</div></li>
                        <li><div class="tree-item">وب</div></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<figure><code data-on="form1"></code></figure>

<h4>انتخاب مقادیر</h4>
<div class="example-div">
    <div class="ltr" id="form2">
        <h3>LTR</h3>
        <input id="display1-ltr" type="text" readonly placeholder="Selected Text" />
        <input id="value1-ltr"type="text" readonly placeholder="Selected Value" />
        <div class="SearchList" wn-type="searchlist" display-id="display1-ltr" value-id="value1-ltr">
            <input type="search" placeholder="Type for search" />
            <ul wn-type="list">
                <li wn-list-value="FirstName" >First Name</li>
                <li wn-list-value="LastName">Last Name</li>
                <li wn-list-value="Company">Company</li>
                <li wn-list-value="Address">Address</li>
                <li wn-list-value="City">City</li>
                <li wn-list-value="Country">Country</li>
                <li wn-list-value="State">State/Province</li>
                <li wn-list-value="PostalCode">ZIP/Postal Code</li>
                <li wn-list-value="Phone1">Phone 1</li>
                <li wn-list-value="Phone2">Phone 2</li>
                <li wn-list-value="Email">Email</li>
                <li wn-list-value="Web">Web</li>
            </ul>
        </div>
        <hr class="m-b-100r" />
        <input id="display2-ltr" type="text" readonly placeholder="Selected Text" />
        <input id="value2-ltr"type="text" readonly placeholder="Selected Value" />
        <div class="SearchList" wn-type="searchlist" display-id="display2-ltr" value-id="value2-ltr">
            <input type="search" placeholder="Type for search" />
            <ul class="tree" wn-type="tree">
                <li>
                    <div class="tree-item"><img src="~/images/WNLogo16.png" />Personal Info</div>
                    <ul>
                        <li>
                            <div class="tree-item"><img src="~/images/WNLogo16.png" />Name</div>
                            <ul>
                                <li><div class="tree-item" wn-tree-value="FirstName"><img src="~/images/tools16.png" />First Name</div></li>
                                <li><div class="tree-item" wn-tree-value="LastName"><img src="~/images/tools16.png" />Last Name</div></li>
                            </ul>
                        </li>
                        <li>
                            <div class="tree-item"><img src="~/images/WNLogo16.png" />Address</div>
                            <ul>
                                <li><div class="tree-item" wn-tree-value="Address"><img src="~/images/tools16.png" />Address</div></li>
                                <li><div class="tree-item" wn-tree-value="City"><img src="~/images/tools16.png" />City</div></li>
                                <li><div class="tree-item" wn-tree-value="Country"><img src="~/images/tools16.png" />Country</div></li>
                                <li><div class="tree-item" wn-tree-value="State"><img src="~/images/tools16.png" />State/Province</div></li>
                                <li><div class="tree-item" wn-tree-value="PostalCode"><img src="~/images/tools16.png" />ZIP/Postal Code</div></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="tree-item"><img src="~/images/WNLogo16.png" />Job Info</div>
                    <ul>
                        <li><div class="tree-item" wn-tree-value="Company"><img src="~/images/tools16.png" />Company</div></li>
                        <li><div class="tree-item" wn-tree-value="Phone1"><img src="~/images/tools16.png" />Phone 1</div></li>
                        <li><div class="tree-item" wn-tree-value="Phone2"><img src="~/images/tools16.png" />Phone 2</div></li>
                        <li><div class="tree-item" wn-tree-value="Email"><img src="~/images/tools16.png" />Email</div></li>
                        <li><div class="tree-item" wn-tree-value="Web"><img src="~/images/tools16.png" />Web</div></li>
                    </ul>
                </li>
            </ul>
        </div>

    </div>
    <div class="rtl">
        <h3>RTL</h3>
        <input id="display1-rtl" type="text" readonly placeholder="عنوان انتخاب شده" />
        <input id="value1-rtl" type="text" readonly placeholder="مقدار انتخاب شده" />
        <div class="SearchList" wn-type="searchlist" display-id="display1-rtl" value-id="value1-rtl">
            <input type="search" placeholder="برای جستجو بنویسید" />
            <ul wn-type="list">
                <li wn-list-value="FirstName">نام</li>
                <li wn-list-value="LastName">نام خانوادگی</li>
                <li wn-list-value="Company">شرکت</li>
                <li wn-list-value="Address">آدرس</li>
                <li wn-list-value="City">شهر</li>
                <li wn-list-value="Country">کشور</li>
                <li wn-list-value="State">استان</li>
                <li wn-list-value="PostalCode">کد پستی</li>
                <li wn-list-value="Phone1">تلفن 1</li>
                <li wn-list-value="Phone2">تلفن 2</li>
                <li wn-list-value="Email">پست الکترونیک</li>
                <li wn-list-value="Web">آدرس وب</li>
            </ul>
        </div>
        <hr class="m-b-100r" />
        <input id="display2-rtl" type="text" readonly placeholder="عنوان انتخاب شده" />
        <input id="value2-rtl" type="text" readonly placeholder="مقدار انتخاب شده" />
        <div class="SearchList" wn-type="searchlist" display-id="display2-rtl" value-id="value2-rtl">
            <input type="search" placeholder="Type for search" />
            <ul class="tree" wn-type="tree">
                <li>
                    <div class="tree-item"><img src="~/images/WNLogo16.png" />اطلاعات شخصی</div>
                    <ul>
                        <li>
                            <div class="tree-item"><img src="~/images/WNLogo16.png" />نام</div>
                            <ul>
                                <li><div class="tree-item" wn-tree-value="FirstName"><img src="~/images/tools16.png" />نام</div></li>
                                <li><div class="tree-item" wn-tree-value="LastName"><img src="~/images/tools16.png" />نام خانوادگی</div></li>
                            </ul>
                        </li>
                        <li>
                            <div class="tree-item"><img src="~/images/WNLogo16.png" />آدرس</div>
                            <ul>
                                <li><div class="tree-item" wn-tree-value="Address"><img src="~/images/tools16.png" />آدرس</div></li>
                                <li><div class="tree-item" wn-tree-value="City"><img src="~/images/tools16.png" />شهر</div></li>
                                <li><div class="tree-item" wn-tree-value="Country"><img src="~/images/tools16.png" />کشور</div></li>
                                <li><div class="tree-item" wn-tree-value="State"><img src="~/images/tools16.png" />استان</div></li>
                                <li><div class="tree-item" wn-tree-value="PostalCode"><img src="~/images/tools16.png" />کدپستی</div></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="tree-item"><img src="~/images/WNLogo16.png" />اطلاعات شغلی</div>
                    <ul>
                        <li><div class="tree-item" wn-tree-value="Company"><img src="~/images/tools16.png" />شرکت</div></li>
                        <li><div class="tree-item" wn-tree-value="Phone1"><img src="~/images/tools16.png" />تلفن 1</div></li>
                        <li><div class="tree-item" wn-tree-value="Phone2"><img src="~/images/tools16.png" />تلفن 2</div></li>
                        <li><div class="tree-item" wn-tree-value="Email"><img src="~/images/tools16.png" />پست الکترونیک</div></li>
                        <li><div class="tree-item" wn-tree-value="Web"><img src="~/images/tools16.png" />وب</div></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<figure><code data-on="form2"></code></figure>
<h4>توابع جاوا اسکریپت</h4>

<p>
    <h5>selecteditems</h5>
    با استفاده از این خصوصیت میتوانید لیست موضوعات انتخاب شده را در قالب یک آرایه با دو خصوصیت <bidi>value</bidi> و <bidi>caption</bidi> دریافت کنید.
</p>
<p>
    <h5>GetSelectedValues</h5>
    لیستی از مقدارهای انتخاب شده را برمیگرداند.
</p>
<p>
    <h5>SetSelectedValues</h5>
    بر اساس لیستی از مقدارها، انتخاب میشوند.
</p>
<p>
    <h5>GetSelectedCaptions</h5>
    لیستی از متن انتخاب شده را برمیگرداند.
</p>
<p>
    <h5>SetSelectedCaptions</h5>
    بر اساس لیستی از متنها، انتخاب میشوند.
</p>
<p>
    <h5>SelectByItem</h5>
    بر اساس گزینه item انتخاب میشود.
</p>
<p>
    <h5>SelectByCaption</h5>
    براساس متن انتخاب میشود.
</p>
<p>
    <h5>SelectByValue</h5>
    براساس مقدار انتخاب میشود.
</p>
<p>
    <h5>DeselectByItem</h5>
    بر اساس گزینه item از حالت انتخاب بیرون می آید.
</p>
<p>
    <h5>DeselectByCaption</h5>
    براساس متن از حالت انتخاب بیرون می آید.
</p>
<p>
    <h5>DeselectByValue</h5>
    براساس مقدار از حالت انتخاب بیرون می آید.
</p>

<p>
    <h5>selectionchanged</h5>
    اگر میخواهید بعد از هر انتخاب تابعی اجرا شود از این رخداد استفاده کنید.
    همچنین میتوانید رخداد مورد نظر را به صورت تگ html در خصوصیت <bidi>onselectionchanged</bidi> بنویسید.
    <br />پارامترهای این رخداد عبارتند از t:this
</p>
<p>
    <h5>max</h5>
    تعداد حداکثر انتخاب را مخشص میکند. مقدار 0 به معنی انتخاب به صورت نامحدود است.
</p>
<p>
    <h5>search</h5>
    این خصوصیت از جنس <a href="/Components/SearchList">wnsearchlist</a> است. برای مشاهده خصوصیات آن به صفحه مرتبط مراجعه شود.
</p>
<p>
    <h5>setdata</h5>
    این تابع با ورودی لیست موارد انتخاب شده طبق استاندارد selecteditems میباشد. بعد از فراخوانی این تابع گزینه های مد نظر به حالت انتخاب در می آید.
    <figure style="direction:ltr">
        <code>
            setdata([{value:'a',caption:'aa'},{value:'b',caption:'bb'}])
        </code>
    </figure>
</p>
<p>
    <h5>beforedeselect</h5>
    اگر میخواهید قبل از هر برگشت انتخاب تابعی اجرا شود و اگر مقدار false برگرداند، عمل عدم انتخاب اعمال نگردد از این رخداد استفاده کنید.
    همچنین میتوانید رخداد مورد نظر را به صورت تگ html در خصوصیت <bidi>onbeforedeselect</bidi> بنویسید.<br />
    پارامترهای این رخداد عبارتند از t:this, n:node, i:item
</p>
<p>
    <h5>afterdeselect</h5>
    پس از آنکه عمل عدم انتخاب به درستی انجام شد، این رخداد صدا زده میشود.
    همچنین میتوانید رخداد مورد نظر را به صورت تگ html در خصوصیت <bidi>onafterdeselect</bidi> بنویسید.
    <br />پارامترهای این رخداد عبارتند از t:this, i:item
</p>

<h4>مثال پویا</h4>
<div class="example-div">
    <div class="ltr w-95-i" id="form2">
        <div id="m1" class="MultiSelect floating" wn-type="multiselect">
            <input type="search" placeholder=".">
            <label>Selected</label>
            <div class="selecteditem"></div>
            <div class="dropdown">
                <ul wn-type="list">
                    <li wn-list-value="FirstName">First Name</li>
                    <li wn-list-value="LastName">Last Name</li>
                    <li wn-list-value="Company">Company</li>
                    <li wn-list-value="Address">Address</li>
                    <li wn-list-value="City">City</li>
                    <li wn-list-value="Country">Country</li>
                    <li wn-list-value="State">State/Province</li>
                    <li wn-list-value="ZIP">ZIP/Postal Code</li>
                    <li wn-list-value="Phone1">Phone 1</li>
                    <li wn-list-value="Phone2">Phone 2</li>
                    <li wn-list-value="Email">Email</li>
                    <li wn-list-value="Web">Web</li>
                </ul>
            </div>
        </div>
        <div class="d-flex">
            <input type="text" id="insList" />
            <button onclick="AddToList()">Insert to List</button>
            <button onclick="Deselect(true)">Deselect By Caption</button>
            <button onclick="Deselect(false)">Deselect By Value</button>
            <button onclick="SelectDefault()">Default Select</button>
            <button onclick="GetSelected()">Get Selected</button>
            <div id="result1"></div>
        </div>
        <script>
            function AddToList() {
                let v = document.getElementById('insList').value;
                WN['m1'].search.list.addrow(v, v);
            }
            function Deselect(bycaption) {
                let v = document.getElementById('insList').value;
                if (bycaption == true)
                    WN['m1'].DeselectByCaption(v);
                else
                    WN['m1'].DeselectByValue(v);
            }
            function SelectDefault() {
                WN['m1'].setdata([{ value: 'FirstName', caption: 'First Name' }, { value: 'City', caption: 'City' }]);
            }
            function GetSelected() {
                let o =
                    WN['m1'].selecteditems;
            }
        </script>
    </div>
</div>
<figure><code data-on="form2"></code></figure>
<h4>دریافت اطلاعات از سرور</h4>
<p>
    برای دریافت اطلاعات از روی سرور، کافیست آدرس سرور را در خصوصیت url قرار دهید.
    اگر سرور لیست را به صورت دیکشنری برمیگرداند نیاز به تنظیم خصوصیات جلوتر نیست ولی اگر آرایه ای از موضوعات برمیگرداند،
    باید مشخص کنید کدام فیلد مقدار است و کدام عنوان. <br />
    خصوصیت <bidi>field-display</bidi> برای مشخص کردن نام فیلد نمایشی در آرایه است.<br />
    خصوصیت <bidi>field-value</bidi> برای مشخص کردن نام فیلد مقداری در آرایه است.<br />
</p>
<div class="example-div">
    <div class="ltr w-95-i" id="form3">
        <div id="m2" class="MultiSelect floating" wn-type="multiselect" url="/components/SearchList">
            <input type="search" placeholder=".">
            <label>Select From List</label>
            <div class="selecteditem"></div>
            <div class="dropdown">
                <ul wn-type="list">
                </ul>
            </div>
        </div>
    </div>
</div>
<figure><code data-on="form3"></code></figure>
<div class="example-div">
    <div class="ltr w-95-i" id="form4">
        <div id="m3" class="MultiSelect floating" wn-type="multiselect" url="/components/Tree?handler=Filter" fieldset="index,parent,type,text,value,image">
            <input type="search" placeholder=".">
            <label>Select From Tree</label>
            <div class="selecteditem"></div>
            <div class="dropdown">
                <ul class="tree tree-expand-item tree-arrow" wn-type="tree">
                </ul>
            </div>
        </div>
    </div>
</div>
<figure><code data-on="form4"></code></figure>