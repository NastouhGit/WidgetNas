@page
@model WidgetNas.Pages.Components.ListExModel
@{
    ViewData["Title"] = "لیست پویا ListEx";
    ViewData["Description"] = "ویجت نس یک فریم ورک فارسی با پشتیبانی کامل از راست به چپ و همچنین چپ به راست است.";
}
<h1>@ViewData["Title"]</h1>
<p>لیست ها یکی از کاربردی ترین موارد برای نمایش اطلاعات، انتخاب های تک منظوره و منوها می باشد.</p>
<p>لیستها یکی از قدرتمندترین گزینه ها برای نمایش سری موضوعات پشت سر هم هستند. در زیر به انواع آن و نحوه استفاده از آن اشاره میگردد.</p>
<p>لیست پویا با استفاده از توابع جاوا اسکریپت قابلیت انتخاب، اضافه کردن به لیست و حذف را با شما میدهد.</p>
<h2>لیست ساده</h2>
<p>در نمایش ساده شما فقط امکان مشاهده و انتخاب در لیست را خواهید دید.</p>
<div class="example-div">
    <div class="ltr" id="form1">
        <h3>LTR</h3>
        <h4>ul</h4>
        <ul wn-type="list">
            <li>Item 1</li>
            <li>Item 2</li>
            <li>Item 3</li>
            <li>Item 4</li>
            <li>Item 5</li>
        </ul>
        <h4>div</h4>
        <div wn-type="list">
            <div class="list-item">Item 1</div>
            <div class="list-item">Item 2</div>
            <div class="list-item">Item 3</div>
            <div class="list-item">Item 4</div>
            <div class="list-item">Item 5</div>
        </div>
        <h4>Table</h4>
        <table wn-type="list">
            <thead>
                <tr>
                    <td>Col 1</td>
                    <td>Col 2</td>
                    <td>Col 3</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>V 1-1</td>
                    <td>V 1-2</td>
                    <td>V 1-3</td>
                </tr>
                <tr>
                    <td>V 2-1</td>
                    <td class="primary">V 2-2</td>
                    <td>V 2-3</td>
                </tr>
                <tr>
                    <td>V 3-1</td>
                    <td>V 3-2</td>
                    <td>V 3-3</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="rtl">
        <h3>RTL</h3>
        <h4>ul</h4>
        <ul wn-type="list">
            <li>گزینه 1</li>
            <li>گزینه 2</li>
            <li>گزینه 3</li>
            <li>گزینه 4</li>
            <li>گزینه 5</li>
        </ul>
        <h4>div</h4>
        <div wn-type="list">
            <div class="list-item">گزینه 1</div>
            <div class="list-item">گزینه 2</div>
            <div class="list-item">گزینه 3</div>
            <div class="list-item">گزینه 4</div>
            <div class="list-item">گزینه 5</div>
        </div>
        <h4>Table</h4>
        <table wn-type="list">
            <thead>
                <tr>
                    <td>ستون 1</td>
                    <td>ستون 2</td>
                    <td>ستون 3</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>مقدار 1-1</td>
                    <td>مقدار 1-2</td>
                    <td>مقدار 1-3</td>
                </tr>
                <tr>
                    <td>مقدار 2-1</td>
                    <td class="primary">مقدار 2-2</td>
                    <td>مقدار 2-3</td>
                </tr>
                <tr>
                    <td>مقدار 3-1</td>
                    <td>مقدار 3-2</td>
                    <td>مقدار 3-3</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<figure><code data-on="form1"></code></figure>
<h2>کنترل لیست با Javascript</h2>
<p>برای آنکه بتوانید به صورت آنلاین لیست خود را کنترل کنید، مثال زیر را مشاهده کنید.</p>
<p>
    <h5>select</h5>
    این تابع با ورودی node مورد نظر، آنرا انتخاب میکند.<br />
    <bidi>select(node: HTMLElement)</bidi>
</p>
<p>
    <h5>findbytext و findbyvalue</h5>
    برای جستجوی یک رکورد از تابع findbyvalue و یا findbytext استفاده کنید. <br />
    <bidi>findbytext(text: string, contains: boolean = true, select: boolean = true): HTMLElement</bidi><br />
    <bidi>findbyvalue(value: string, select: boolean = true): HTMLElement</bidi>
</p>
<p>
    <h5>elementtoitem</h5>
    مقدار نود ورودی را تبدیل به متغییری از نوع caption و value میکند. یعنی مقدار نود در value و عنوان نود در caption<br />
    <bidi>elementtoitem(elem: HTMLElement):any</bidi>
</p>
<p>
    <h5>filterbytext</h5>
    برای فیلتر کردن بر اساس عنوان های هر ردیف لیست، از این تابع استفاده میشود.<br />
    <bidi>filterbytext(text: string, contains: boolean = true)</bidi><br />
    متن ورودی و پارامتر بعدی مشخص میکند، این متن در بین متون باشد یا نه عینا همین متن فیلتر شود.
</p>
<p>
    <h5>addrow</h5>
    برای ایجاد یک رکورد از تابع addrow استفاده کنید.<br />
    <bidi>addrow(text: string, value: string = '')</bidi><br />
    عنوان و مقدار ردیف را باید وارد کنید.
</p>
<p>
    <h5>settext</h5>
    برای تغییر متن یک رکورد از تابع settext استفاده کنید.<br />
    <bidi>settext(text: string, index: number)</bidi><br />
    پارامتر اول متن مورد نظر و پارامتر بعدی شماره ایندکس ردیف است. مقدار از صفر شروع میشود.
</p>
<p>
    <h5>setvalue</h5>
    برای تغییر مقدار یک رکورد از تابع setvalue استفاده کنید.<br />
    <bidi>setvalue(text: string, index: number)</bidi><br />
    پارامتر اول مقدار مورد نظر و پارامتر بعدی شماره ایندکس ردیف است. مقدار از صفر شروع میشود.
</p>
<p>
    <h5>removerow</h5>
    برای حذف یک رکورد از تابع removerow استفاده کنید.<br />
    <bidi>removerow(index: number)</bidi><br />
     پارامتر آن شماره ایندکس ردیف است. مقدار از صفر شروع میشود.
</p>
<p>
    <h5>order</h5>
    برای مرتب سازی رکوردها از تابع order استفاده کنید.<br />
    <bidi>order(desc = false)</bidi><br />
    پارامتر آن مشخص میکند، مرتب سازی از بزرگ به کوچک باشد یا کوچک به بزرگ. مقدار false یعنی از کوچک به بزرگ.
</p>
<p>
    <h5>reindex</h5>
    اگر به هر دلیلی ردیف ها را جابجا کردید، برای ایندکس بندی از این تابع استفاده میشود. این یک تابع داخلی است و استفاده از آن جز موارد خاص پیشنهاد نمیشود.<br />
    <bidi>reindex()</bidi>
</p>
<p>
    <h5>refresh</h5>
    اگر به هر دلیلی تمایل داشتید دوباره ردیفها ساخته و نمایش داده شود، از این تابع استفاده کنید. این یک تابع داخلی است و استفاده از آن جز موارد خاص پیشنهاد نمیشود.<br />
    <bidi>refresh()</bidi>
</p>
<p>
    <h5>setdata</h5>
    برای نسبت دادن یک لیست از مقادیر و عناوین به لیست از این تابع استفاده کنید. برای مثال میخواهید اطلاعات از سمت سرور دریافت و لیست شما پر شود.<br />
    <bidi>setdata(datasource: any[], displayfield: string, valuefield: string, append: boolean = false)</bidi><br />
    datasource: لیستی از اطلاعات مد نظر شما برای نمایش است.<br/>
    displayfield: نام فیلد درون آرایه برای نمایش بعنوان متن یا عنوان در لیست.<br />
    valuefield: نام فیلد درون آرایه برای تنظیم مقدار در لیست.<br />
    append: مشخص کننده آن است اطلاعات جدید به لیست اضافه شود یا اطلاعات قبلی حذف و اطلاعات جدید اضافه شود.<br />
    برای درک بیشتر به مثال زیر توجه کنید.
</p>

<div class="example-div" id="exam2">
    <div class="row w-100">
        <div class="col-6">
            <ig class="group">
                <label for="Insert1">Item</label>
                <input id="Insert1" />
                <button onclick="InsertItem()">Insert</button>
            </ig>
            <ig class="button-group">
                <button onclick="DeleteItem()">Delete Selected Item</button>
                <button onclick="WN['list1'].order()">Order by Text</button>
                <button onclick="WN['list1'].order(true)">Order Desc</button>
                <button onclick="Import(false)">Import Data</button>
                <button onclick="Import(true)">Append Data</button>
                <button onclick="WN['list1'].settext('Changed!',2)">Change Index 2 Text</button>
            </ig>
            <ig class="group">
                <label for="Filter1">Text</label>
                <input id="Filter1" />
                <button onclick="FilterItem()">Filter</button>
            </ig>
            <ig class="group">
                <label for="Find1">Text</label>
                <input id="Find1" />
                <button onclick="FindItem(false)">Find Text</button>
                <button onclick="FindItem(true)">Find Value</button>
            </ig>
            <script>
                function InsertItem() {
                    let value = document.getElementById('Insert1')?.value;
                    if (value != '') {
                        WN['list1'].addrow(value, value);
                    }
                }
                function DeleteItem() {
                    WN['list1'].removerow(WN['list1'].selectedindex);
                }
                function FilterItem() {
                    let value = document.getElementById('Filter1')?.value;
                    WN['list1'].filterbytext(value, true);
                }
                function FindItem(findvalue) {
                    let value = document.getElementById('Find1')?.value;
                    if (findvalue)
                        WN['list1'].findbyvalue(value);
                    else
                        WN['list1'].findbytext(value, true);
                }
                function Import(append) {
                    let o = [
                        { text: 'item 1', value: 'a1' },
                        { text: 'item 2', value: 'a2' },
                        { text: 'item 3', value: 'a3' },
                        { text: 'item 4', value: 'a4' },
                    ];
                    WN['list1'].setdata(o, 'text', 'value', append);
                }
            </script>
            <div class="row w-100">
                <div class="ltr col">
                    <h3>LTR</h3>
                    <ul id="list1" class="list" wn-type="list">
                        <li value="omid">Omid</li>
                        <li value="ali">Ali</li>
                        <li value="reza">Reza</li>
                    </ul>
                </div>

            </div>

        </div>
    </div>
</div>
<figure><code data-on="exam2"></code></figure>

<h2>خصوصیات</h2>
<p>اگر تمایل دارید گزینه ها به صورت جعه تیک باشند، خصوصیت <bidi>checkbox</bidi> را با مقدار true پر نمایید. یا این خصوصیت را از طریق جاوا اسکریپت مقدار دهی کنید.</p>
<p>
    <h5>getcheckedvalue</h5>
    آرایه ای از مقادیر انتخاب شده را برمیگرداند.<br />
    <bidi>getcheckedvalue()</bidi>
</p>
<p>
    <h5>setcheckedvalue</h5>
    آرایه ای از مقادیر مورد نظر را داده تا آنها را در لیست تی دار کند..<br />
    <bidi>setcheckedvalue(value)</bidi>
</p>

<p>برای درک بیشتر به مثال زیر توجه کنید.</p>

<div class="example-div" id="exam3">
    <div class="row w-100">
        <div class="ltr col">
            <h3>LTR</h3>
            <ul id="list2" class="list" wn-type="list" checkbox="true">
                <li value="m1"><input type="checkbox" value="m1" class=""> Chekbox Manual Item 1</li>
            </ul>
            <button class="primary m-bs-100r" onclick="alert(WN['list2'].getcheckedvalue().join())">Get Checked</button>
            <button class="primary m-bs-100r" onclick="alert(WN['list2'].setcheckedvalue(['m1','a2']).join())">Set Checked m1,a2</button>
            <button class="primary m-bs-100r" onclick="alert(WN['list2'].setcheckedvalue([]).join())">Clear Checked</button>
            <script>
                WNE(document).Ready(() => {
                    let o = [
                        { text: 'Chekbox item 1', value: 'a1' },
                        { text: 'Chekbox item 2', value: 'a2' },
                        { text: 'Chekbox item 3', value: 'a3' }
                    ];
                    WN['list2'].setdata(o, 'text', 'value', true);
                });
            </script>
        </div>

    </div>
</div>
<figure><code data-on="exam3"></code></figure>

<h2>رخدادها</h2>
<p>
    <h5>beforeclick</h5>
    قبل از کلیک بر روی گزینه لیست، این رخداد فراخوانده میشود. اگر این رخداد مقدار <bidi>false</bidi> برگرداند، ادامه عملیات کلیک متوقف میشود.<br/>
    این رخداد را به صورت جاوا اسکریپت به خصوصیت گفته شده نسبت دهید یا در خصوصیت html بنام onbeforeclick تعریف کنید.
</p>
<p>
    <h5>afterclick</h5>
    بعد از عمل کلیک کردن این رخداد فراخوانی میشود.<br />
    این رخداد را به صورت جاوا اسکریپت به خصوصیت گفته شده نسبت دهید یا در خصوصیت html بنام onafterclick تعریف کنید.
</p>
<p>
    <h5>selectionchange</h5>
    بعد از انتخاب هر ردیف این رخداد فراخوانی میشود.<br />
    این رخداد را به صورت جاوا اسکریپت به خصوصیت گفته شده نسبت دهید یا در خصوصیت html بنام onselectionchange تعریف کنید.
</p>